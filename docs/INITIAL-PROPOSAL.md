# Initial Proposal 
[Phase 2 Progress Report](NOSTR-SAFEBOX-NOV-2024.md)
## Description
Nostr Safebox is a wallet that is native to the nostr network. The initial version takes its inspiration from NIP-60 where Cashu tokens are stored as encrypted events on relays, and whoever has the corresponding nsec can access and spend the tokens.

Safebox is initially being built to replace a custodial backend component for a Lightning Wallet and
payment service that I have built (openbalance.app) as part of the SEC-02 cohort. I have already
built a custom backend Cashu wallet that handles payments between Lightning nodes and mints and
stores funds as tokens (versus an account system).

The primary motivation for Safebox is to address custodial concerns by replacing the Postgres wallet database (a single point of failure) with a relay-based component that exists independently of the custodial services and gives the user the option to exit the custodial service without the permission of the custodian.

Safebox is being designed to minimize trust required of relays, all information is encrypted and can be replicated across multiple relays eliminating the dependence on any one relay. Safeboxes can send funds to any other npubs - if that npub was generated by another safebox, it can immediately receive the funds - it is another 'privacy layer' that sits on top of the Lighting Network.

A successful cli prototype has been built that accepts tokens, pays lightning invoices, sends cashu funds to other Safebox instances and zaps any nostr event that has a valid profile/lud16 address associated with it.

Compiled binaries of Safebox for mac/linux can immediately enable any computing instance to send and receive funds via Cashu and Lightning.

If this project is successful, it could mean that any running instance can become micropayments-enabled, simply by installing an executable that gives all this power.

## Potential Impact
Implementing NIP-60 and experimenting with Safebox, I have come to the realization that it ispossible to build a wallet component that can exist independently of app, device or platform. This has huge implications, because it means independence from mobileOS platforms, cloud providers and applications. This implication of an independently existing wallet is not even being contemplated by Apple, Google or the EU who are actively trying to control the wallet ecosystem for their interests.

Nostr Safebox represents an entirely new architecture that separates the private key (nsec), the code (Safebox implementation) and the data (events replicated across relays). I have concluded that this is a massive strategic game changer - the current approaches always lead to state/commercial capture; Nostr Safebox represents an approach where the nsec holder is the true controller of their data and funds.

## Timeline & Milestones
The overall Safebox project is broken into four major phases - Phases 1 through 4. This proposal is to assist in completion of Phase 2

- Phase 1 (Complete): 'Possibility Phase' (Jul-Sept 2024) explored the proof of concept and the key mechanisms on how Safebox could work. After successful proof of concept, a GitHub project was set up.

- Phase 2 (In Progress): 'Feasibility Phase' (Oct-Jan 2025) The goal of this phase is to specifically determine technical feasibility to inform a strategic decision on whether to develop a long-term stable product (Phases 3 and 4). Phase 2 is expected to be completed by Jan 2025 with the following milestone deliverables:
    1. A stable prototype implemented Python, which includes a documented cli command line utility.
    2. Compiled binaries for mac-os and ubuntu to illustrate how Safebox can operate in a multi-platform environment
    3. Demonstration of back-end integration into the openbalance.app Lightning Payment service,with a 'how-to' manual for others wishing to build a payment service using Safebox as the custodial component.
    4. A draft specification for other reference implementations (Rust, Go, C, etc.) (Note: There is already interest to create a Safebox binary for the OpenWrt routers ath79 platform)

For additional context (not in scope of this proposal) a brief description of Phase 3 and Phase 4

- Phase 3: 'Scalability' is about 'scaling' Safebox in different dimensions to become a real product that can serve diverse ecosystem stakeholders. This entails building multiple reference implementations that can interoperate with one another, ensuring that Safebox can scale to support a service that could support thousands if not millions of users, and building in the discipline of a commercial product (testing, QA, support, documentation, etc.)

- Phase 4: 'Usability' is about exploring the many different markets and use cases where Safebox can provide value. We see it being used to scale an egalitarian open payment system that can serve billions of users, and possibly trillions of devices.

## License
The source code of the project is publicly available at trbouma/safebox and published under the MITLicense.